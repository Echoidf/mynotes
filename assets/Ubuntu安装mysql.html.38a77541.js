import{_ as n}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as l,c as t,a as s,d as i,e as r,b as a,r as d}from"./app.dcf095a2.js";const o={},c=a(`<h2 id="一、卸载原有的mysql环境" tabindex="-1"><a class="header-anchor" href="#一、卸载原有的mysql环境" aria-hidden="true">#</a> 一、卸载原有的Mysql环境</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> remove mysql-server
<span class="token function">sudo</span> <span class="token function">apt-get</span> autoremove <span class="token parameter variable">--purge</span> mysql-server
<span class="token function">sudo</span> <span class="token function">apt-get</span> remove mysql-common
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>清理残留数据</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>dpkg <span class="token parameter variable">-l</span> <span class="token operator">|</span><span class="token function">grep</span> ^rc<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{print $2}&#39;</span> <span class="token operator">|</span><span class="token function">sudo</span> <span class="token function">xargs</span> dpkg <span class="token parameter variable">-P</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看mysql依赖项，继续删除干净</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>dpkg --list<span class="token operator">|</span><span class="token function">grep</span> mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="二、安装mysql" tabindex="-1"><a class="header-anchor" href="#二、安装mysql" aria-hidden="true">#</a> 二、安装Mysql</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">aptitude</span> search  mysql
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> mysql-server mysql-client
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,8),p={href:"https://dev.mysql.com/downloads/repo/apt/",target:"_blank",rel:"noopener noreferrer"},u=a(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> dpkg <span class="token parameter variable">-i</span> mysql-apt-config_0.8.10-1_all.deb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>选mysql-8.0 并按enter键</li><li>再次方向键选择mysql-8.0 并按enter键</li><li>方向键选择ok 并按enter键</li><li>更新apt: 执行 sudo apt update</li><li>解决提示部分：sudo apt-get upgrade</li><li>正式安装MySQL18.04：sudo apt install mysql-server</li><li>上边安装完后，会让你设置root密码，输入后按enter键，并再次确认</li><li>MySQL8.0采用了新的加密方式，与Ubuntu18.04有兼容问题；故选择下面的旧版本5.x的加密方式</li></ul><h2 id="三、mysql相关命令" tabindex="-1"><a class="header-anchor" href="#三、mysql相关命令" aria-hidden="true">#</a> 三、Mysql相关命令</h2><table><thead><tr><th>指令</th><th>说明</th></tr></thead><tbody><tr><td>service mysqld start</td><td>启动mysql</td></tr><tr><td>service mysqld stop</td><td>关闭mysql</td></tr></tbody></table><h2 id="四、设置远程连接" tabindex="-1"><a class="header-anchor" href="#四、设置远程连接" aria-hidden="true">#</a> 四、设置远程连接</h2><ol><li><p>登进MySQL</p></li><li><p>输入以下语句，进入mysql库：</p></li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>use mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>更新域属性，&#39;%&#39;表示允许任意IP地址访问：</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>update user <span class="token builtin class-name">set</span> <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&#39;%&#39;</span> where user <span class="token operator">=</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="4"><li>执行以上语句之后再执行：</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>FLUSH PRIVILEGES<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="5"><li>再执行授权语句：</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>GRANT ALL PRIVILEGES ON *.* TO <span class="token string">&#39;root&#39;</span>@<span class="token string">&#39;%&#39;</span>WITH GRANT OPTION<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,13);function m(v,h){const e=d("ExternalLinkIcon");return l(),t("div",null,[c,s("p",null,[s("a",p,[i("官网安装（推荐）"),r(e)])]),u])}const k=n(o,[["render",m],["__file","Ubuntu安装mysql.html.vue"]]);export{k as default};
