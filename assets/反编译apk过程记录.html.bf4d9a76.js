import{_ as o}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as i,c as l,a,d as e,e as n,b as t,r}from"./app.193c9a2b.js";const d={},c=t(`<h2 id="安装工反编译工具" tabindex="-1"><a class="header-anchor" href="#安装工反编译工具" aria-hidden="true">#</a> 安装工反编译工具</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>brew <span class="token function">install</span> apktool
brew <span class="token function">install</span> smali
brew <span class="token function">install</span> dex2jar
brew <span class="token function">install</span> jadx
brew <span class="token function">install</span> <span class="token parameter variable">--cask</span> jd-gui
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),p={href:"https://ibotpeaches.github.io/Apktool/",target:"_blank",rel:"noopener noreferrer"},u={href:"http://mac.softpedia.com/get/Developer-Tools/Apktool.shtml",target:"_blank",rel:"noopener noreferrer"},v={href:"https://github.com/pxb1988/dex2jar",target:"_blank",rel:"noopener noreferrer"},m={href:"http://mac.softpedia.com/get/Developer-Tools/dex2jar.shtml",target:"_blank",rel:"noopener noreferrer"},h={href:"https://code.google.com/archive/p/innlab/downloads",target:"_blank",rel:"noopener noreferrer"},b={href:"http://mac.softpedia.com/get/Development/Java/JD-GUI.shtml",target:"_blank",rel:"noopener noreferrer"},k=t(`<h2 id="apktool" tabindex="-1"><a class="header-anchor" href="#apktool" aria-hidden="true">#</a> apktool</h2><p>将apk文件重命名为zip文件后可以直接对其进行解压缩，但是内部的xml文件是二进制的xml，我们无法直接阅读，需要借助apktool 进行资源的提取和转换，在我们修改文件资源后也可以使用apktool进行重新打包，使用方式如下：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>// 提取资源
apktool decode test.apk

// 提取资源并指定输出目录
apktool d test.apk <span class="token parameter variable">-o</span> <span class="token builtin class-name">test</span>

// 重新打包apk
apktool b <span class="token builtin class-name">test</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="dex2jar" tabindex="-1"><a class="header-anchor" href="#dex2jar" aria-hidden="true">#</a> dex2jar</h2><p>使用apktool提取apk资源后会得到一个同名的文件夹，内部有一个子文件夹smali，它对应着原始Android目录下的src目录，smali是Dalvik虚拟机指令语言。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cp</span> test.apk test.zip
<span class="token function">unzip</span> test.zip <span class="token comment"># 会得到classes.dex</span>
d2j-dex2jar classed.dex <span class="token parameter variable">-o</span> test.jar <span class="token comment"># 转换成jar包</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="jd-gui" tabindex="-1"><a class="header-anchor" href="#jd-gui" aria-hidden="true">#</a> jd-gui</h2><p><code>jd-gui</code>是java的反编译器<code>Java Decompiler project</code>,把二进制的可执行文件翻译成代码。 <code>jd-gui</code>提供了一个图形化的界面可以查看jar包代码</p><p>Jar包可以直接使用jd-gui打开，但是打开后可能会报错：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>No suitable Java version found on your system! This program requires Java 1.8+
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>解决办法：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vim</span> /Applications/JD-GUI.app/Contents/MacOS/universalJavaApplicationStub.sh

<span class="token comment"># 查找并修改为以下内容[JAVACMD填写本机Java路径，版本不能超过Java10]</span>
<span class="token comment"># first check system variable &quot;$JAVA_HOME&quot;</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">$JAVA_HOME</span>&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token keyword">then</span>
        <span class="token assign-left variable">JAVACMD</span><span class="token operator">=</span><span class="token string">&quot;/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home/bin/java&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,12);function g(_,f){const s=r("ExternalLinkIcon");return i(),l("div",null,[c,a("ul",null,[a("li",null,[e("apktool：资源文件获取，可以提取出图片文件和布局文件进行使用查看 下载地址："),a("a",p,[e("https://ibotpeaches.github.io/Apktool/"),n(s)]),e(" Mac下载地址："),a("a",u,[e("http://mac.softpedia.com/get/Developer-Tools/Apktool.shtml"),n(s)])]),a("li",null,[e("dex2jar：将apk反编译成java源码（classes.dex转化成jar文件） 下载地址："),a("a",v,[e("https://github.com/pxb1988/dex2jar"),n(s)]),e(" Mac下载地址："),a("a",m,[e("http://mac.softpedia.com/get/Developer-Tools/dex2jar.shtml"),n(s)])]),a("li",null,[e("jd-gui：查看APK中classes.dex转化成出的jar文件，即源码文件 下载地址："),a("a",h,[e("https://code.google.com/archive/p/innlab/downloads"),n(s)]),e(" Mac下载地址："),a("a",b,[e("http://mac.softpedia.com/get/Development/Java/JD-GUI.shtml"),n(s)])])]),k])}const J=o(d,[["render",g],["__file","反编译apk过程记录.html.vue"]]);export{J as default};
