---
title: redis安装及基本指令
icon: workingDirectory
# 分类
category:
  - Redis
  - 数据库
# 标签
tag:
  - NoSql
  - 非关系型数据库
  - 高并发
sticky: false
# 是否收藏在博客主题的文章列表中，当填入数字时，数字越大，排名越靠前。
star: 5
# 是否将该文章添加至文章列表中
article: true
# 是否将该文章添加至时间线中
timeline: true
---
## 1.Redis安装下载

Redis下载地址：[Download | Redis](https://redis.io/download/)

上传到指定目录下进行解压

- 需要安装gcc编译器  yum install gcc
- 安装目录默认在/usr/local/bin
  ![20230121105903](https://s2.loli.net/2023/01/21/lOwqJWADBI9Foa7.png)

  > redis-benchmark:性能测试工具
  >
  > redis-check-aof:修复有问题的 AOF 文件
  >
  > redis-check-dump:修复有问题的 dump.rdb 文件
  >
  > redis-sentinel:Redis 集群使用
  >
  > redis-server:Redis 服务器启动命令
  >
  > redis-cli:客户端，操作入口
  >
- make安装

  > make && make install
  >

## 2.Redis后台启动&使用

拷贝redis目录下的redis.conf文件到/etc目录

> cp redis.conf /etc/redis.conf

修改/etc/redis.conf 后台启动设置 daemonize no 改成 yes, 并保存退出

- 后台启动指令

  > /usr/local/bin/redis-server /etc/redis.conf
  >
- 查看进程(默认6379端口监听)

  > ps -aux | grep redis
  >
- 可以修改监听端口

  > vim /etc/redis.conf   ##修改port即可
  >

## 3.客户端访问

> /usr/local/bin/redis-cli -p 6379

单实例关闭：redis-cli shutdown

多实例关闭，指定端口：redis-cli -p 6379 shutdown

进入redis后退出客户端（Redis服务没有结束）：quit/exit

## 4.Redis指令

**指令文档**：[Redis命令中心（Redis commands）](http://redis.cn/commands.html)

**一些基本指令：**

| 指令          | 功能                                      |
| ------------- | ----------------------------------------- |
| set key value | 设置key, value数据                        |
| get key       | 根据key查询对应的value，若不存在返回空nil |
| clear         | 清除屏幕信息                              |
| quit/exit     | 退出客户端（Redis服务没有关闭）           |
| help 命令名称 | 获取命令帮助文档                          |

**对key键操作：**

| 指令          | 功能                                                                                             |
| ------------- | ------------------------------------------------------------------------------------------------ |
| keys *        | 查看当前库所有的key(例如匹配：key *1)                                                            |
| exists key    | 判断某个key是否存在，返回1存在 0不存在                                                           |
| type key      | 查看key的类型                                                                                    |
| del key       | 删除指定key的数据                                                                                |
| unlink key    | 根据 value 选择非阻塞删除【仅将 keys 从 keyspace 元数据中删除，真正的删除会在后续异步操作】      |
| expire key 10 | 10秒：为给定的key设置过期时间                                                                    |
| ttl key       | 查看还有多少秒过期，-1表示永不过期，-2表示已过期（若set key时没有设置key过期时间默认为永不过期） |

**对DB操作：**

| 指令     | 功能                                                 |
| -------- | ---------------------------------------------------- |
| select 1 | 选择1号数据库，默认有16个库，0-15，默认选择的是0号库 |
| dbsize   | 查看当前数据库的key的数量                            |
| flushdb  | 清空当前库                                           |
| flushall | 清空全部库                                           |
