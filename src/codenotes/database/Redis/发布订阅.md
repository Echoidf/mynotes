---
title: Redis发布订阅
icon: workingDirectory
# 分类
category:
  - Redis
  - 数据库
# 标签
tag:
  - 非关系型数据库
  - 发布订阅
sticky: false
# 是否收藏在博客主题的文章列表中，当填入数字时，数字越大，排名越靠前。
star: 8
# 是否将该文章添加至文章列表中
article: true
# 是否将该文章添加至时间线中
timeline: true
---
## 一、发布订阅概念

Redis 发布订阅 (pub/sub) 是一种消息通信模式：发送者 (pub) 发送消息，订阅者 (sub) 接收消息

Redis 客户端可以订阅任意数量的频道

多个订阅者（Subscriber）可以订阅多个频道（Channel），多个发布者（Publisher）可以往多个频道（Channel）中发布消息。

## 二、模式分类

### 1.一个发布者，多个订阅者

主要应用于：通知、公告，可以作为消息队列或者消息渠道

### 2.多个发布者，一个订阅者

主要应用于：排行榜、投票、计数

### 3.多个发布者，多个订阅者

主要应用于：群聊、聊天

## 三、Redis发布订阅指令

1. PUBLISH channel msg

    将信息 message 发送到指定的频道 channel

2. SUBSCRIBE channel [channel ...]

    订阅频道，可以同时订阅多个频道

3. UNSUBSCRIBE [channel ...]

    取消订阅指定的频道, 如果不指定频道，则会取消订阅所有频道

4. PSUBSCRIBE pattern [pattern ...]

    订阅一个或多个符合给定模式的频道，每个模式以 * 作为匹配符，比如 it* 匹配所 有以 it 开头的频道( it.news 、 it.blog 、 it.tweets 等等)， news.* 匹配所有 以 news. 开头的频道( news.it 、 news.global.today 等等)，诸如此类

5. PUNSUBSCRIBE [pattern [pattern ...]]

    退订指定的规则, 如果没有参数则会退订所有规则
